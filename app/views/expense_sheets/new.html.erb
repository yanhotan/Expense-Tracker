<%= turbo_frame_tag "modal" do %>
  <div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50" data-controller="modal" data-action="click->modal#closeBackground keydown.escape@window->modal#close">
    <div class="bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full mx-4" data-modal-target="container" data-action="click->modal#stopPropagation">
      <div class="px-6 py-4 border-b border-slate-200 dark:border-slate-700">
        <h2 class="text-lg font-semibold text-slate-900 dark:text-white">Create New Sheet</h2>
      </div>

      <%= form_with model: @expense_sheet, url: expense_sheets_path, class: "p-6" do |f| %>
        <div class="space-y-4">
          <div>
            <label for="expense_sheet_name" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">
              Sheet Name
            </label>
            <%= f.text_field :name, 
                class: "w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
                placeholder: "e.g., Personal Expenses",
                autofocus: true %>
          </div>

          <div>
            <label for="expense_sheet_pin" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">
              PIN (optional)
            </label>
            <%= f.text_field :pin, 
                class: "w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
                placeholder: "4-digit PIN",
                maxlength: 4,
                pattern: "[0-9]{4}" %>
            <p class="mt-1 text-xs text-slate-500 dark:text-slate-400">Leave empty for no PIN protection</p>
          </div>
        </div>

        <div class="flex justify-end gap-3 mt-6">
          <%= link_to "Cancel", root_path, class: "px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors" %>
          <%= f.submit "Create Sheet", class: "px-4 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors cursor-pointer" %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
